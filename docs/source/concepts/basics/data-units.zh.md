# 单位：链（Chain） → 条形码（Barcode） → 受体（Receptor）

数据处理的基本单位如下。

链（Chain）

链是一个 V(D)J 重排的分子 / contig（拼接序列）/ 化学读段（chemistry read）（例如：单个 TRA、TRB、IGH、IGL）。它是构成其它一切的最小数据单位。
对于单链（single-chain）数据，链与条形码相同。数据导入（ingest）后绝不更改，并且可随时下钻到精确的序列信息。

条形码（Barcode）

条形码是一个可存放 0、1 或多个链的物理容器。在单细胞（single-cell）分析中，它对应一个液滴（droplet）或细胞（cell）；在批量（bulk）分析中，它等同于组装后的“克隆型（clonotype）”；在空间（spatial）数据中，它对应一个点（spot）。条形码有时与细胞同义使用。
它用于“存放”相关的生物学数据，并对相同的链进行聚合，同时作为用于统计来自不同条形码的相同受体数量的生物学单位。它会继承用户添加的所有每细胞（per-cell）/ 每样本（per-sample）元数据。

受体（Receptor）

受体是一个逻辑单位，即你希望作为单个生物学受体来处理的链的逻辑分组。它是进行 AIRR 统计的最小单位。受体由两个组成部分构成：受体特征（receptor features）和受体链（receptor chains），二者共同组成用户为下游分析（downstream analysis）所定义的受体模式（receptor schema）。

受体特征通常是 CDR3 氨基酸序列，或在 CDR3 氨基酸序列上附加可变基因片段（Variable gene segment）。

受体链可以是单链、α+β 配对、重链+轻链（heavy+light）配对，或共享相同 CDR3/V/J 的所有链。

| 术语                         | 通俗解释                                              | **immundata** 如何表示                                                        | **角色**                    |
| -------------------------- | ------------------------------------------------- | ------------------------------------------------------------------------- | ------------------------- |
| **Chain（链）**               | 来自一次读段或一个 contig 的单个 V(D)J 转录本（例如 *TRA* 或 *IGH*）。 | `idata$annotations` 物理表中的一行；保留 `locus`、`cdr3`、`umis`/`reads` 以及其他关键的重排特征。 | **原始数据单元** – 原子级构件。       |
| **Barcode / Cell（条形码/细胞）** | 链被捕获所在的液滴（10x）、点位（Visium）或孔板孔。                    | 列 `imd_barcode`。                                                          | **物理集合** – 将共享同一捕获隔室的链分组。 |
| **Receptor（受体）**           | 你要分析的生物学受体：来自同一细胞的单条链**或**成对集合（αβ、重-轻链）。          | 虚拟表 `idata$receptors`；唯一 ID `imd_receptor_id`。                            | **逻辑单元** – AIRR 统计的最小对象。  |
| **Repertoire（受体库）**        | 按样本、供体、聚类等分组的一组受体。                                | `idata$repertoires` 物理表；唯一 ID `imd_repertoire_id`；由你选择的分组列。               | **聚合单元** – 用于比较分析的更高层级分组。 |
